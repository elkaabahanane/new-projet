<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../scss/page-reservation.css">
    <title>Document</title>
</head>

<body>

    <form id="reservation" action="submit" class="form">

        <div>
            <h2>Réservation</h2>
            <div>
                <input class="uppercased" type="text" name="Nom" id="name" placeholder="Entrer votre nom">
            </div>
            <div>
                <input class="uppercased" type="text" name="Prénom" id="prenom" placeholder="Entrer votre prénom">
            </div>
            <div>
                <input class="uppercased" type="email" id="email" placeholder="Enter votre email">
            </div>
            <div>
                <input class="uppercased" type="tel" id="telephone" placeholder="Enter votre numéro de téléphne">
            </div>
            <div>
                <label for="date">De</label>
                <input type="date" id="date1">
            </div>
            <div>
                <label for="date">Au</label>
                <input type="date" id="date2">
            </div>
            <div>
                <input type="number" id="nombre-personne" placeholder="Enter le nombre de personne">
            </div>
        </div>

        <div>
            <button id="submit" type="button">submit</button>
        </div>
    </form>
    <script>
        // Converter les lettres des formulaires au majuscule
        var inputs = document.querySelectorAll('.uppercased');
        for (var i = 0; i < inputs.length; i++) {
            inputs[i].addEventListener('keyup', function (event) {
                event.target.value = event.target.value.toUpperCase();
            });
        }

        // Validation de la formulaire
        var submitBtn = document.getElementById("submit");
        submitBtn.addEventListener('click', function (e) {
            var nom = document.getElementById("name").value;
            var prenom = document.getElementById("prenom").value;
            var email = document.getElementById("email").value;
            var telephone = document.getElementById("telephone").value;
            var dateD = document.getElementById("date1").value;
            var dateA = document.getElementById("date2").value;
            var personnes = document.getElementById("nombre-personne").value;

            var dd = new Date(dateD);
            var da = new Date(dateA);

            if (nom == '' || prenom == '' || email == '' || telephone == '' || dateD == '' || dateA == '' || personnes == '') {
                alert('Le remplissage de tout les champs est obligatoire');
            } else {
                if (!/^[a-zA-Z]+$/.test(nom) || !/^[a-zA-Z]+$/.test(prenom)) {
                    alert('Le nom ou prenom doit contient que des lettres')
                } else if (email.indexOf('@') == -1) {
                    alert("L'email doit etre un email valide");
                } else if (!/^[0-9]{10}$/.test(telephone)) {
                    alert('Le nombre doit contient 10 chiffres')
                } else if (!/^[0-9]+$/.test(personnes)) {
                    alert('Le nombre de personnes doit contient que des nombres');
                } else if (dd.getTime() > da.getTime()) {
                    alert('La date de reservation doit etre superieur a la date de sortie');
                } else {
                    alert('Le form est valide');
                }
            }
        });
    </script>


</body>

</html>